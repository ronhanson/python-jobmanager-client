#!/usr/bin/env python
# -*- coding: utf-8 -*-
# vim: ai ts=4 sts=4 et sw=4 nu
"""
(c) 2014 Ronan Delacroix
Job Manager Utility - Main File
:author: Ronan Delacroix
"""
import os
import sys
import argparse
import jobmanager
import jobmanager.client
import mongoengine
import tbx
from pymongo import read_preferences

tbx.log.configure_logging_to_screen()


def main():
    parser = argparse.ArgumentParser(description="""Job Manager Command Launcher""", epilog='"Be strong, be good. But have a glass of wine first."')

    args = vars(parser.parse_args())

    mongoengine.connect(host='localhost', port=27017, db='jobmanager8', read_preference=read_preferences.ReadPreference.PRIMARY)

    tbx.service.launch_service(service=jobmanager.client.JobManagerClientService,
                             parser_callback=None,
    )

    exit(0)

if __name__ == "__main__":
    main()